/*
  textfill
 @name      jquery.textfill.js
 @author    Russ Painter
 @author    Yu-Jie Lin
 @author    Alexandre Dantas
 @version   0.6.0
 @date      2014-08-19
 @copyright (c) 2014 Alexandre Dantas
 @copyright (c) 2012-2013 Yu-Jie Lin
 @copyright (c) 2009 Russ Painter
 @license   MIT License
 @homepage  https://github.com/jquery-textfill/jquery-textfill
 @example   http://jquery-textfill.github.io/jquery-textfill/index.html
*/
(function(n){n.fn.textfill=function(r){function m(){a.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function t(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function p(a,b,e,f,g,l,d){function c(a,c){var b=" / ";a>c?b=" > ":a==c&&(b=" = ");return b}m("[TextFill] "+a+" { font-size: "+b.css("font-size")+",Height: "+b.height()+"px "+c(b.height(),e)+e+"px,Width: "+b.width()+c(b.width(),
f)+f+",minFontPixels: "+g+d+", maxFontPixels: "+l+d+" }")}function q(a,b,e,f,g,l,d,h,k){for(p(a,b,g,l,d,h,k);d<h-1;){var c=Math.floor((d+h)/2);b.css("font-size",c+k);if(e.call(b)<=f){if(d=c,e.call(b)==f)break}else h=c;p(a,b,g,l,d,h,k)}b.css("font-size",h+k);e.call(b)<=f&&(d=h,p(a+"* ",b,g,l,d,h,k));return d}var a=n.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1,
scalePt:!1,doNotEnlarge:!1},r);m("[TextFill] Start Debug");this.each(function(){var c=n(a.innerTag+":visible:first",this),b="px",e=a.explicitHeight||n(this).height(),f=a.explicitWidth||n(this).width(),g=c.css("font-size"),l=parseFloat(c.css("line-height"))/parseFloat(g);a.scalePt&&(b="pt",g=Math.round(72*parseFloat(g)/96)+b,l=Math.round(72*parseFloat(c.css("line-height"))/96)/parseFloat(g));a.doNotEnlarge&&(a.maxFontPixels=parseInt(g));m("[TextFill] Inner text: "+c.text());m("[TextFill] All options: ",
a);m("[TextFill] Maximum sizes: { Height: "+e+"px, Width: "+f+"px }");var d=a.minFontPixels,h=0>=a.maxFontPixels?e:a.maxFontPixels,k=void 0;a.widthOnly||(k=q("Height",c,n.fn.height,e,e,f,d,h,b));d=q("Width",c,n.fn.width,f,e,f,d,h,b);a.widthOnly?(c.css({"font-size":d+b,"white-space":"nowrap"}),a.changeLineHeight&&c.parent().css("line-height",l*d+b)):(k=Math.min(k,d),c.css("font-size",k+b),a.changeLineHeight&&c.parent().css("line-height",l*k+b));m("[TextFill] Finished { Old font-size: "+g+", New font-size: "+
c.css("font-size")+" }");c.width()>f||c.height()>e&&!a.widthOnly?(c.css("font-size",g),a.fail&&a.fail(this),m("[TextFill] Failure { Current Width: "+c.width()+", Maximum Width: "+f+", Current Height: "+c.height()+", Maximum Height: "+e+" }")):a.success?a.success(this):a.callback&&(t("callback is deprecated, use success, instead"),a.callback(this))});a.complete&&a.complete(this);m("[TextFill] End Debug");return this}})(window.jQuery);
